/* 
	Copyright IBM Corporation 1988,1991 - All Rights Reserved
	Copyright Carnegie Mellon, 1996
	For full copyright information see: `<andrew tree>/config/COPYRITE'

	$Disclaimer: 
* Permission to use, copy, modify, and distribute this software and its 
* documentation for any purpose and without fee is hereby granted, provided 
* that the above copyright notice appear in all copies and that both that 
* copyright notice and this permission notice appear in supporting 
* documentation, and that the name of IBM not be used in advertising or 
* publicity pertaining to distribution of the software without specific, 
* written prior permission. 
*                         
* THE COPYRIGHT HOLDERS DISCLAIM ALL WARRANTIES WITH REGARD 
* TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF 
* MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL ANY COPYRIGHT 
* HOLDER BE LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL 
* DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, 
* DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE 
* OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION 
* WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
* 
*  $
*/


LOCALINCLUDES	=	-I${BASEDIR}/include/ams

#ifdef SNAP_ENV
SNAP = cuis
#endif

#if defined(USE_MMDF_ENV) || defined(USE_MLD_ENV)
MMFDLB = ${MMDFLIBS}
#endif

PRODUCTS 	=	cuin ${SNAP}
ANDVOBJS	=	unixmach.o
PCVOBJS		=	pcmach.o

OBJS = cui.o cuifns.o ${ANDVOBJS} morprntf.o

LIBS		=	${BASEDIR}/lib/libmail.a $(BASEDIR)/lib/libcparser.a ${BASEDIR}/lib/liberrors.a \
		${UTILLIB}

NOSNAPLIBS	=	\
	${BASEDIR}/lib/libcui.a \
	${BASEDIR}/lib/libcuin.a \
	${BASEDIR}/lib/libmssrv.a \
	${BASEDIR}/lib/libmsshr.a \
	${BASEDIR}/lib/libeli.a \
	${BASEDIR}/lib/librxp.a \
	${LIBS}	${PRSLIB}

SNAPLIBS = \
	${BASEDIR}/lib/libcui.a \
	${BASEDIR}/lib/libcuis.a \
	${BASEDIR}/lib/libsnap.a \
	${BASEDIR}/lib/libmsshr.a \ 
	${BASEDIR}/lib/librxp.a \
	${LIBS}

#ifdef SNAP_ENV
ProgramTarget(cuis, ${OBJS}, ${SNAPLIBS}, ${NETLIBS} ${SUPLIBS} ${MMDFLB}  ${BSDLIB})
#endif /* SNAP_ENV */

ProgramTarget(cuin, ${OBJS}, ${NOSNAPLIBS}, ${NETLIBS} ${SUPLIBS} ${MMDFLB}  ${BSDLIB})

InstallMultiple(${PRODUCTS}, $(INSTPROGFLAGS), ${DESTDIR}/bin)
InstallLink(cuin, $(DESTDIR)/bin/cui)
NormalHelpRule()
InstallDocs(cuiclss.help cuicust.help cuiedit.help cuixprt.help cuifltr.help cuipref.help cuiqr.help cuiwiz.help cui.help cui.tutr, ${DESTDIR}/help)
InstallHelpAlias(cuiclss, cui-classification)
InstallHelpAlias(cuicust, cui-customization)
InstallHelpAlias(cuiedit, cui-edit)
InstallHelpAlias(cuixprt, cui-expert)
InstallHelpAlias(cuifltr, cui-filtering cui-filter)
InstallHelpAlias(cuipref, cui-preferences)
InstallHelpAlias(cuiqr, cui-quickref)
InstallHelpAlias(cuiwiz, cui-wizard)
InstallHelpAlias(cui, cui-novice)
