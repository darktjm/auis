/* 
	Copyright IBM Corporation 1988,1991 - All Rights Reserved
	Copyright Carnegie Mellon, 1996
	For full copyright information see: `<andrew tree>/config/COPYRITE'

	$Disclaimer: 
* Permission to use, copy, modify, and distribute this software and its 
* documentation for any purpose and without fee is hereby granted, provided 
* that the above copyright notice appear in all copies and that both that 
* copyright notice and this permission notice appear in supporting 
* documentation, and that the name of IBM not be used in advertising or 
* publicity pertaining to distribution of the software without specific, 
* written prior permission. 
*                         
* THE COPYRIGHT HOLDERS DISCLAIM ALL WARRANTIES WITH REGARD 
* TO THIS SOFTWARE, INCLUDING ALL IMPLIED WARRANTIES OF 
* MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL ANY COPYRIGHT 
* HOLDER BE LIABLE FOR ANY SPECIAL, INDIRECT OR CONSEQUENTIAL 
* DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM LOSS OF USE, 
* DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE 
* OR OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION 
* WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
* 
*  $
*/

LOCALINCLUDES	= -I${BASEDIR}/include/ams

#ifdef SNAP_ENV
    S_DOBJS	=	amss.o
    S_IHFILES	=	amss.H
    SNAPCLASS = 	amss
#endif /* SNAP_ENV */

EXTRAOBJS = 	stubs.o capaux.o foldaux.o sendaux.o messaux.o writeone.o

OBJS =		ams.o captions.o mailobjv.o nbutterv.o text822.o \
			amsn.o folders.o messages.o options.o \
			${S_DOBJS} foldertreev.o messagesapp.o sendmessage.o \
			amsutil.o mailobj.o messwind.o t822view.o


HFILES =		captions.H \
			folders.H \
			foldertreev.H \
			messages.H \
			messagesapp.H \
			sendmessage.H \
			text822.H \
			t822view.H \
			amsutil.H \
			ams.H \
			options.H \
			messwind.H \
			nbutterv.H \
			mailobj.H \
			mailobjv.H \
			amsn.H ${S_IHFILES}

LIBS = 		${BASEDIR}/lib/libmsshr.a \
			${BASEDIR}/lib/libmail.a $(BASEDIR)/lib/libcparser.a ${BASEDIR}/lib/liberrors.a \
			${UTILLIB} 

SLIBS	=		${BASEDIR}/lib/libcui.a ${BASEDIR}/lib/libcuis.a \
			${BASEDIR}/lib/libsnap.a ${BASEDIR}/lib/librxp.a ${LIBS}

NLIBS =		${BASEDIR}/lib/libcui.a ${BASEDIR}/lib/libcuin.a \
			${BASEDIR}/lib/libmssrv.a \
			${BASEDIR}/lib/libeli.a ${BASEDIR}/lib/librxp.a \
			${LIBS} ${PRSLIB}
NormalATKRule()

EXTRACLASSES=captions \
			folders \
			foldertreev \
			messagesapp \
			sendmessage \
			text822 \
			t822view \
			amsutil \
			ams \
			options \
			messwind \
			nbutterv \
			mailobj \
			mailobjv \
			amsn $(SNAPCLASS)

DynamicMultiObject(messages,$(EXTRACLASSES),$(EXTRAOBJS) $(OBJS),$(CLASSLIBS) $(NLIBS) $(LIBS),,)
InstallDynamicObject(messages,$(EXTRACLASSES), $(FULLATKDLIBDIR))

InstallClassFiles($(HFILES))
MkdirTarget($(DESTDIR)/lib/prs)
InstallDocs(messages.pr, $(DESTDIR)/lib/prs)
